{% extends 'EtuCoreBundle:Admin:layout.html.twig' %}

{% block title %}{{ 'core.admin.pageCreate.title'|trans }}{% endblock %}

{% block titleIcon %}
	<img src="{{ asset('src/img/titles/gear.png') }}" alt="{{ 'base.logo.alt'|trans }}" title="{{ 'base.logo.title'|trans }}" class="page-title-icon" />
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('vendor/codemirror/lib/codemirror.css') }}" type="text/css" />
	<style>
		.CodeMirror {
			background-color: #ffffff;
			border: 1px solid #cccccc;
			box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
			transition: border linear 0.2s, box-shadow linear 0.2s;
			border-radius: 4px;
			color: #555555;
			height: 800px;
		}
	</style>
{% endblock %}

{% block javascripts %}
	<script src="{{ asset('vendor/codemirror/lib/codemirror.js') }}" type="text/javascript"></script>
	<script src="{{ asset('vendor/codemirror/mode/htmlmixed/htmlmixed.js') }}" type="text/javascript"></script>
	<script src="{{ asset('vendor/codemirror/mode/xml/xml.js') }}" type="text/javascript"></script>
	<script src="{{ asset('vendor/codemirror/mode/javascript/javascript.js') }}" type="text/javascript"></script>
	<script src="{{ asset('vendor/codemirror/mode/css/css.js') }}" type="text/javascript"></script>

	<script>
		var myCodeMirror = CodeMirror.fromTextArea(document.getElementById("form_content"), {
			lineNumbers: true,
			mode: "htmlmixed",
			indentWithTabs: true,
			indentUnit: 4
		});
	</script>
{% endblock %}

{% block content %}
	<ul class="nav nav-tabs page-tabs">
		<li>
			<a href="{{ path('admin_pages') }}">
				<i class="icon-chevron-left"></i>
				Retour
			</a>
		</li>
	</ul>
	<div class="padding20-all">
		<form method="post" id="form">
			{{ form_errors(form) }}

			<div class="control-group">
				<label class="control-label">{{ form_label(form.title, 'core.admin.pageCreate.name'|trans) }}</label>
				<div class="controls">
					{{ form_widget(form.title) }}
					<span class="help-block">{{ form_errors(form.title) }}</span>
				</div>
			</div>
			<div class="control-group">
				<label class="control-label">{{ form_label(form.content, 'core.admin.pageCreate.content'|trans) }}</label>
				<div class="controls">
					{{ form_widget(form.content) }}
					<span class="help-block">{{ form_errors(form.content) }}</span>
				</div>
			</div>
			<div class="control-group">
				<div class="controls">
					{{ form_rest(form) }}
					<button type="submit" class="btn">{{ 'core.admin.pageCreate.submit'|trans }}</button>
				</div>
			</div>
		</form>
	</div>
{% endblock %}
