
parameters:
    etu.core.routing_loader.class: Etu\Core\CoreBundle\Framework\Routing\ModulesRoutingLoader

    etu.menu.user_builder.class: Etu\Core\CoreBundle\Menu\UserMenu\UserMenuBuilder
    etu.menu.user_renderer.class: Etu\Core\CoreBundle\Menu\UserMenu\UserMenuRenderer
    etu.menu.user_twig_extension.class: Etu\Core\CoreBundle\Twig\Extension\UserMenuRendererExtension

    etu.menu.sidebar_builder.class: Etu\Core\CoreBundle\Menu\Sidebar\SidebarBuilder
    etu.menu.sidebar_renderer.class: Etu\Core\CoreBundle\Menu\Sidebar\SidebarRenderer
    etu.menu.sidebar_twig_extension.class: Etu\Core\CoreBundle\Twig\Extension\SidebarRendererExtension

services:

    # Router register
    etu.core.routing_loader:
        class: %etu.core.routing_loader.class%
        arguments: [@kernel]
        tags:
            - { name: routing.loader }

    # User menu
    etu.menu.user_builder:
        class: %etu.menu.user_builder.class%
        arguments: [@router]
    etu.menu.user_renderer:
        class: %etu.menu.user_renderer.class%
        arguments: [@twig]
    etu.menu.user_twig_extension:
        class: %etu.menu.user_twig_extension.class%
        arguments: [@etu.menu.user_builder, @etu.menu.user_renderer]
        tags:
            - { name: twig.extension }

    # Sidebar
    etu.menu.sidebar_builder:
        class: %etu.menu.sidebar_builder.class%
        arguments: [@router]
    etu.menu.sidebar_renderer:
        class: %etu.menu.sidebar_renderer.class%
        arguments: [@twig]
    etu.menu.sidebar_twig_extension:
        class: %etu.menu.sidebar_twig_extension.class%
        arguments: [@etu.menu.sidebar_builder, @etu.menu.sidebar_renderer]
        tags:
            - { name: twig.extension }